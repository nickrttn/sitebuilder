function Site(a){this.name=a,this.content="",this.snippets={header1:"snippets/header1.html",header2:"snippets/header2.html",header3:"snippets/header3.html",main1:"snippets/main1.html",main2:"snippets/main2.html",main3:"snippets/main3.html",footer1:"snippets/footer1.html",footer2:"snippets/footer2.html"},this.changeTitle=function(){title.textContent=this.name},this.addCode=function(){code.textContent=this.content,Prism.highlightElement(code)},this.loadContent=function(a,b,c){b.length>0?$.get(b,function(){console.log("GET success")}).done(function(b){c(a,b)}):builder.innerHTML=this.content},this.addContent=function(a,b){b&&(a.content+=b,builder.innerHTML=a.content,a.addCode(),a.reflowPage())},this.reflowPage=function(){$(document).foundation()}}$(document).foundation();var mySite,newButton=document.querySelector('#newModal input[type="submit"'),saveButton=document.querySelector(".save"),title=document.querySelector(".name > h1 > a"),builder=document.querySelector(".builder"),code=document.querySelector("code"),sidebar=document.querySelector(".sidebar");newButton.addEventListener("click",function(a){a.preventDefault();var b=document.querySelector('[name="sitename"]').value;mySite=new Site(b),mySite.addContent(""),mySite.changeTitle(),$("#newModal").foundation("reveal","close")}),saveButton.addEventListener("click",function(a){a.preventDefault()}),sidebar.addEventListener("click",function(a){var b=a.target.parentNode,c=b.classList[0],d=a.target.parentNode.nodeName,e=mySite instanceof Site;if(e&&"ARTICLE"===d)mySite.loadContent(mySite,mySite.snippets[c],mySite.addContent);else{if(e&&"ARTICLE"!==d)return;e||$("#createFirst").foundation("reveal","open")}});